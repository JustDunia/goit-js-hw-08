{"mappings":"iiBAAA,IAKIA,EALJC,EAAAC,EAAA,SAEMC,EAAS,sBACTC,EAAOC,SAASC,cAAc,mBAId,WACpB,IACE,IAAMC,EAAaC,aAAaC,QAAQN,GACxC,GAAII,EAAY,CACd,IAAMG,EAAgBC,KAAKC,MAAML,GACjCH,EAAKS,MAAMC,MAAQJ,EAAcG,MACjCT,EAAKW,QAAQD,MAAQJ,EAAcK,O,EAErC,MAAOC,GACPC,QAAQD,MAAMA,EAAMD,Q,EAmBxBG,GACAd,EAAKe,iBAAiB,QAASC,EAAAnB,GAAEoB,UAhBV,WACrBrB,EAAeW,KAAKW,UAAU,CAC5BT,MAAOT,EAAKS,MAAMC,MAClBC,QAASX,EAAKW,QAAQD,QAExBN,aAAae,QAAQpB,EAAQH,E,GAW2B,MAC1DI,EAAKe,iBAAiB,UATE,SAAAK,GACtBA,EAAEC,iBACFR,QAAQS,IAAI1B,GACZQ,aAAamB,WAAWxB,GACxBC,EAAKwB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst LS_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nlet savedContent;\n\nconst onLoadHandler = () => {\n  try {\n    const savedState = localStorage.getItem(LS_KEY);\n    if (savedState) {\n      const loadedContent = JSON.parse(savedState);\n      form.email.value = loadedContent.email;\n      form.message.value = loadedContent.message;\n    }\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst onInputHandler = () => {\n  savedContent = JSON.stringify({\n    email: form.email.value,\n    message: form.message.value,\n  });\n  localStorage.setItem(LS_KEY, savedContent);\n};\n\nconst onSubmitHandler = e => {\n  e.preventDefault();\n  console.log(savedContent);\n  localStorage.removeItem(LS_KEY);\n  form.reset();\n};\n\nonLoadHandler();\nform.addEventListener('input', _.throttle(onInputHandler, 500));\nform.addEventListener('submit', onSubmitHandler);\n"],"names":["$b00c40859be242c5$var$savedContent","$1WSnx","parcelRequire","$b00c40859be242c5$var$LS_KEY","$b00c40859be242c5$var$form","document","querySelector","savedState","localStorage","getItem","loadedContent","JSON","parse","email","value","message","error","console","$b00c40859be242c5$var$onLoadHandler","addEventListener","$parcel$interopDefault","throttle","stringify","setItem","e","preventDefault","log","removeItem","reset"],"version":3,"file":"03-feedback.d22b9ff6.js.map"}