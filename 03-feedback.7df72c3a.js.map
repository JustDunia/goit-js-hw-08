{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAAOC,SAASC,cAAc,kBAEpC,IAAIC,EAEkB,MACpB,IACE,MAAMC,EAAaC,aAAaC,QAPrB,uBAQX,GAAIF,EAAY,CACd,MAAMG,EAAgBC,KAAKC,MAAML,GACjCJ,EAAKU,MAAMC,MAAQJ,EAAcG,MACjCV,EAAKY,QAAQD,MAAQJ,EAAcK,O,EAErC,MAAOC,GACPC,QAAQD,MAAMA,EAAMD,Q,GAmBxBG,GACAf,EAAKgB,iBAAiB,QAASC,EAAAnB,GAAEoB,UAhBV,KACrBf,EAAeK,KAAKW,UAAU,CAC5BT,MAAOV,EAAKU,MAAMC,MAClBC,QAASZ,EAAKY,QAAQD,QAExBN,aAAae,QAvBA,sBAuBgBjB,EAAa,GAWc,MAC1DH,EAAKgB,iBAAiB,UATEK,IACtBA,EAAEC,iBACFR,QAAQS,IAAIpB,GACZE,aAAamB,WA7BA,uBA8BbxB,EAAKyB,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst LS_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nlet savedContent;\n\nconst onLoadHandler = () => {\n  try {\n    const savedState = localStorage.getItem(LS_KEY);\n    if (savedState) {\n      const loadedContent = JSON.parse(savedState);\n      form.email.value = loadedContent.email;\n      form.message.value = loadedContent.message;\n    }\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst onInputHandler = () => {\n  savedContent = JSON.stringify({\n    email: form.email.value,\n    message: form.message.value,\n  });\n  localStorage.setItem(LS_KEY, savedContent);\n};\n\nconst onSubmitHandler = e => {\n  e.preventDefault();\n  console.log(savedContent);\n  localStorage.removeItem(LS_KEY);\n  form.reset();\n};\n\nonLoadHandler();\nform.addEventListener('input', _.throttle(onInputHandler, 500));\nform.addEventListener('submit', onSubmitHandler);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$savedContent","savedState","localStorage","getItem","loadedContent","JSON","parse","email","value","message","error","console","$945622fd0f572e60$var$onLoadHandler","addEventListener","$parcel$interopDefault","throttle","stringify","setItem","e","preventDefault","log","removeItem","reset"],"version":3,"file":"03-feedback.7df72c3a.js.map"}